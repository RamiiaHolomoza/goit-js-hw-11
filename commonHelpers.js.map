{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function searchImagesByQuery(query) {\n    const URL = \"https://pixabay.com/api/\";\n    const API_KEY = \"45133335-13ec6f60d2d4b23fe19aa58e6\";\n\n    return fetch(`${URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n}\n","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function showError(error) {\n    iziToast.error({\n        position: \"topRight\",\n        message: `${error}`,\n    });\n}\n\nexport function createGallary(data) {\n    const lightbox = new SimpleLightbox('.gallery-item a', {\n    captions: true,\n    captionSelector: 'img',\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay:  250,\n});\n    const images = data.hits.map((hit) =>`\n    <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n            <img class=\"gallery-image\"\n                src=\"${hit.webformatURL}\"\n                alt=\"${hit.tags}\" \n            />\n        </a>\n        <div class=\"gallery-content\">\n            <h5 class=\"text-content\">Likes<p class=\"text\">${hit.likes}</p></h5>\n            <h5 class=\"text-content\">Views<p class=\"text\">${hit.views}</p></h5>\n            <h5 class=\"text-content\">Comments<p class=\"text\">${hit.comments}</p></h5>\n            <h5 class=\"text-content\">Downloads<p class=\"text\">${hit.downloads}</p></h5>\n        </div>\n    </li>`).join('');\n\n    document.querySelector('.gallery-list').insertAdjacentHTML(\"beforeend\", images);\n    lightbox.refresh();\n    // lightbox.on('show.simplelightbox', function () {})\n}\n\nexport function cleanGallery() {\n    const list = document.querySelector(\".gallery-list\");\n    list.innerHTML = \"\";\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport searchImagesByQuery from './js/pixabay-api.js';\nimport { showError, createGallary, cleanGallery } from './js/render-functions.js';\n\nconst form = document.querySelector('.gallery-form');\nconst input = document.querySelector('.input-gallery');\nconst loader = document.querySelector('.loading');\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n    cleanGallery(); //  очищуєм галерею\n    loader.classList.remove('hidden') // прибираємо клас прихованого спану\n\n    const query = input.value.trim();\n    if (query === '') {\n        showError('Please enter a search query.');\n        loader.classList.add(\"hidden\")\n        return;\n    }\n\n    searchImagesByQuery(query)\n        .then((data) => {\n            if (data.total === 0) {\n                showError('Sorry, there are no images matching your search query. Please try again!')\n                loader.classList.add(\"hidden\")\n                return;\n            }\n            // else {\n            //     createGallary(data)\n            // }\n            loader.classList.add(\"hidden\")\n            console.log(data);\n            createGallary(data)\n        })\n        .catch((error) => {\n            showError(error);\n        });\n});\n"],"names":["searchImagesByQuery","query","response","showError","error","iziToast","createGallary","data","lightbox","SimpleLightbox","images","hit","cleanGallery","list","form","input","loader","event"],"mappings":"6vBAAe,SAASA,EAAoBC,EAAO,CAI/C,OAAO,MAAM,qEAA2BA,CAAK,0DAA0D,EAClG,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCDO,SAASC,EAAUC,EAAO,CAC7BC,EAAS,MAAM,CACX,SAAU,WACV,QAAS,GAAGD,CAAK,EACzB,CAAK,CACL,CAEO,SAASE,EAAcC,EAAM,CAChC,MAAMC,EAAW,IAAIC,EAAe,kBAAmB,CACvD,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAe,GACnB,CAAC,EACSC,EAASH,EAAK,KAAK,IAAKI,GAAO;AAAA;AAAA,wCAEDA,EAAI,aAAa;AAAA;AAAA,uBAElCA,EAAI,YAAY;AAAA,uBAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA,4DAI6BA,EAAI,KAAK;AAAA,4DACTA,EAAI,KAAK;AAAA,+DACNA,EAAI,QAAQ;AAAA,gEACXA,EAAI,SAAS;AAAA;AAAA,UAEnE,EAAE,KAAK,EAAE,EAEf,SAAS,cAAc,eAAe,EAAE,mBAAmB,YAAaD,CAAM,EAC9EF,EAAS,QAAO,CAEpB,CAEO,SAASI,GAAe,CAC3B,MAAMC,EAAO,SAAS,cAAc,eAAe,EACnDA,EAAK,UAAY,EACrB,CCzCA,MAAMC,EAAO,SAAS,cAAc,eAAe,EAC7CC,EAAQ,SAAS,cAAc,gBAAgB,EAC/CC,EAAS,SAAS,cAAc,UAAU,EAEhDF,EAAK,iBAAiB,SAAWG,GAAU,CACvCA,EAAM,eAAc,EACpBL,IACAI,EAAO,UAAU,OAAO,QAAQ,EAEhC,MAAMf,EAAQc,EAAM,MAAM,KAAI,EAC9B,GAAId,IAAU,GAAI,CACdE,EAAU,8BAA8B,EACxCa,EAAO,UAAU,IAAI,QAAQ,EAC7B,MACH,CAEDhB,EAAoBC,CAAK,EACpB,KAAMM,GAAS,CACZ,GAAIA,EAAK,QAAU,EAAG,CAClBJ,EAAU,0EAA0E,EACpFa,EAAO,UAAU,IAAI,QAAQ,EAC7B,MACH,CAIDA,EAAO,UAAU,IAAI,QAAQ,EAC7B,QAAQ,IAAIT,CAAI,EAChBD,EAAcC,CAAI,CAC9B,CAAS,EACA,MAAOH,GAAU,CACdD,EAAUC,CAAK,CAC3B,CAAS,CACT,CAAC"}